---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPostCard from "../components/BlogPostCard.astro";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<BaseLayout title="BRUTAL BLOG">
  <section class="mb-16">
    <h2
      class="uppercase font-black mb-4 leading-tight text-4xl bg-cyan-400 inline-block p-2 border-4 border-black mb-8"
    >
      LATEST INTEL
    </h2>
    <div class="grid gap-8">
      {posts.map((post) => <BlogPostCard post={post} />)}
    </div>
  </section>
</BaseLayout>
